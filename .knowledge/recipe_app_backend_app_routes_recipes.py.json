{"is_source_file": true, "format": "Python", "description": "This file defines Flask route handlers for managing recipes and categories in a web application. It includes endpoints for listing, searching, creating, updating, and deleting recipes, as well as fetching categories. The code interacts with SQLAlchemy models and schemas for serialization and validation.", "external_files": ["../models", "../schemas", "../../", "flask_smorest", "flask.views", "flask", "flask_jwt_extended", "sqlalchemy"], "external_methods": ["Category.query.filter", "Recipe.query.filter", "Recipe.query.join", "Recipe.query.get_or_404", "db.session.add", "db.session.commit", "db.session.delete", "PaginationSchema", "RecipeSchema", "RecipeCreateUpdateSchema", "CategorySchema", "get_jwt_identity"], "published": ["blp", "RecipeList", "RecipeDetail", "CategoryList"], "classes": [{"name": "RecipeList", "description": "Flask MethodView handling listing and creating recipes at the '/recipes' endpoint."}, {"name": "RecipeDetail", "description": "Flask MethodView handling retrieve, update, and delete operations for a single recipe identified by ID."}, {"name": "CategoryList", "description": "Flask MethodView providing a list of all categories."}], "methods": [{"name": "list[Category] _get_or_create_categories(names: list[str])", "description": "Helper function to retrieve existing categories by name or create new ones if they do not exist.", "scope": "", "scopeKind": ""}, {"name": "get(self)", "description": "Handles GET requests for listing recipes with optional search filters and pagination.", "scope": "CategoryList", "scopeKind": "class"}, {"name": "post(self, args)", "description": "Handles POST requests to create new recipes for authenticated users.", "scope": "RecipeList", "scopeKind": "class"}, {"name": "get(self, pagination_args)", "description": "Handles GET requests to retrieve a single recipe by ID.", "scope": "RecipeList", "scopeKind": "class"}, {"name": "patch(self, args, recipe_id: int)", "description": "Handles PATCH requests to update a recipe, only if authorized.", "scope": "RecipeDetail", "scopeKind": "class"}, {"name": "delete(self, recipe_id: int)", "description": "Handles DELETE requests to remove a recipe, only if authorized.", "scope": "RecipeDetail", "scopeKind": "class"}, {"name": "get(self, recipe_id: int)", "description": "Handles GET requests to list all categories.", "scope": "RecipeDetail", "scopeKind": "class"}], "calls": ["Category.query.filter", "Recipe.query.filter", "Recipe.query.join", "Recipe.query.get_or_404", "db.session.add", "db.session.commit", "db.session.delete"], "search-terms": ["recipe management", "search recipes", "categories", "flask_route", "JWT authentication", "SQLAlchemy models", "pagination", "recipe creation", "recipe update", "category listing"], "state": 2, "file_id": 11, "knowledge_revision": 36, "git_revision": "", "revision_history": [{"24": ""}, {"36": ""}], "ctags": [{"_type": "tag", "name": "CategoryList", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^class CategoryList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecipeDetail", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^class RecipeDetail(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecipeList", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^class RecipeList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_get_or_create_categories", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^def _get_or_create_categories(names: list[str]) -> list[Category]:$/", "language": "Python", "typeref": "typename:list[Category]", "kind": "function", "signature": "(names: list[str])"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^    def delete(self, recipe_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, recipe_id: int)", "scope": "RecipeDetail", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "CategoryList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^    def get(self, pagination_args):$/", "language": "Python", "kind": "member", "signature": "(self, pagination_args)", "scope": "RecipeList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^    def get(self, recipe_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, recipe_id: int)", "scope": "RecipeDetail", "scopeKind": "class"}, {"_type": "tag", "name": "patch", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^    def patch(self, args, recipe_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, args, recipe_id: int)", "scope": "RecipeDetail", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/recipe-explorer-22800-22809/recipe_app_backend/app/routes/recipes.py", "pattern": "/^    def post(self, args):$/", "language": "Python", "kind": "member", "signature": "(self, args)", "scope": "RecipeList", "scopeKind": "class"}], "hash": "f8ddb75aaad369dda051383b4c4d944e", "format-version": 4, "code-base-name": "recipe_app_backend", "filename": "recipe_app_backend/app/routes/recipes.py", "fields": [{"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}]}